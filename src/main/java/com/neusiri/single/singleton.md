双重检查锁方式实例化单例对象时，单例对象不加volatile关键字，会出现问题，如图
![](1.png)

实例化对象，实际上可以分解成以下三个步骤：

* 分配内存空间
* 初始化对象
* 将对象指向刚分配的内存空间

但是有些编译器为了性能的原因，可能会将第二步和第三步进行重排序，顺序就成了：

* 分配内存空间
* 将对象指向刚分配的内存空间
* 初始化对象